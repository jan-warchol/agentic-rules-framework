# Tool checking rules configuration

# Paths that cannot be edited
# Each entry has a path (can be just a filename or include directory)
# Optional fields: reason (for permissionDecisionReason), context (for additionalContext)
deny_edits:
  - path: agent-rules.yaml
    reason: Only human can edit the agent rules configuration to ensure safety and control.
  - path: tests/test_command_permissions.py
    reason: This file is frozen for edits.
    context: Test cases in this file have been carefully validated. Allowing edits could compromise the integrity of the tests and lead to unreliable results.

# Denied patterns use partial matching, so "rm -rf" will match "echo test && rm -rf /tmp"
deny_commands:
  - pattern: "pytest .+"
    reason: When running python tests, prefer running "pytest" without additional arguments.
    context: It is impractical to list all allowed arguments that can be passed to pytest, and allowing arbitrary arguments can lead to unintended consequences.
  # - pattern: "rm -rf"
  #   reason: "Destructive commands are not allowed"

# Command patterns to allow (regex patterns, anchors ^ and $ are implied - exact match)
allow_commands:
  - pattern: pytest
  # - pattern: "ls.*"
  #   context: "Listing files is encouraged for better understanding"
  # - pattern: "git status"
  #   reason: "Safe read-only operation"
  #   context: "Helps understand repository state"

# Command patterns to ask for confirmation (regex, exact match)
# confirm_commands:
#   - pattern: "rm -rf.*"
#     reason: "Destructive operation"
#     context: "Please confirm you want to delete files"
#   - pattern: "git push.*"
#     reason: "Publishing changes"
#     context: "Confirm you want to push to remote"
